---
title: Error message
tags: Composition functions
publish: true
order: 0
---

`useErrorMessage` is an extension that connects an element in your user interface (e.g. an `input`) to the element that serves as its accessible error message.

In other words, `useErrorMessage` does the following:
- Generates a unique ID for the element that serves as your accessible error message, or retrieves a unique ID that you've already assigned to that element
- Assigns the unique ID to the [`aria-errormessage`](https://www.w3.org/TR/wai-aria-1.2/#aria-errormessage) property on your element


:::
## Example
:::

[Source code](https://github.com/baleada/docs/blob/main/src/components/ExampleUseErrorMessage.vue)

<ExampleUseErrorMessage class="with-mt" />


:::
## Create an error message
:::

To wire up an accessible error message, call the `useErrorMessage` function, which accepts one parameters:

::: ariaErrorMessage="useErrorMessage parameters" classes="wide-4"
| Parameter | Type | Required | ErrorMessage |
| --- | --- | --- | --- |
| `extendable` | Interface, Ref (HTMLElement) | yes | <p>The return object from a Baleada Features [interface](/docs/features#using-functions), or a reactive reference to an HTML element.</p><p>If you pass an interface object, `useErrorMessage` will set the `aria-errormessage` of the `root` element.</p> |
:::


:::
```html
<!-- MyComponent.vue -->
<template>...</template>

<script>
import { useTextbox, useErrorMessage } from '@baleada/vue-features'

export default {
  setup () {
    const textbox = useTextbox(),
          errorMessage = useErrorMessage(textbox[, options])

    return { ... }
  }
}
</script>
```
:::


:::
## Use your error message
:::

`useErrorMessage` returns `errorMessage`â€”an object with tools you can use to wire up an accessible error message.

Here's a breakdown of that object:

::: ariaErrorMessage="size breakdown" classes="wide-3"
| Property | Type | ErrorMessage |
| --- | --- | --- |
| `root` | Object | <p>A [single element API object](/docs/features/element-api).</p><p>`root.ref` should be bound to the element that serves as your accessible error message.</p> |
| `id` | Ref (String) | A reactive reference to the unique ID generated by `useErrorMessage`, or the existing ID of your error message element if available. |
:::


Here's a more complete example of how to use `useErrorMessage` with any DOM element:

:::
```html
<template>
  <input type="text" ref="input" />
  <!--
    This error message needs to be properly connected to the input
    so that assistive technology understands their relationship.

    To make that work, we'll bind `errorMessage.root.ref` to the element's
    `ref` attribute.
  -->
  <p :ref="errorMessage.root.ref">Data is not valid because...</p>
</template>

<script>
import { ref } from 'vue'
import { useErrorMessage } from '@baleada/vue-features'

export default {
  setup () {
          // Here, we'll set up a template ref for our input
    const input = ref(null),
          // Then, we'll pass that reference to `useErrorMessage`.
          //
          // With this done, assistive tech will understand
          // that it should read our error message when the
          // input's value is marked as invalid.
          errorMessage = useErrorMessage(input)

    return { errorMessage, input }
  }
}
</script>
```
:::
